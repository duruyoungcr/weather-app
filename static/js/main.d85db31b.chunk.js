(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var a,c=n(0),i=n(38),r=n.n(i),o=(n(92),n(13)),s=n(28),d=(n(96),n(145)),l=n(144),u=n(3),j=function(){return Object(u.jsx)(l.a,{sx:{display:"flex"},children:Object(u.jsx)(d.a,{})})},h=n(8),p=n(50),b=n.n(p),x=n(67),O=n(35),m=n(68),f=n.n(m),v=Object(O.b)("weather/getWeatherData",function(){var e=Object(x.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.unit,e.next=3,f.a.get("https://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=".concat("81403254aea7e5f9db7978d9a3904d16","&cnt=40&units=").concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=Object(O.c)({name:"weather",initialState:{data:[],loading:!0},reducers:{setLoading:function(e,t){e.loading=t.payload}},extraReducers:(a={},Object(h.a)(a,v.fulfilled,(function(e,t){e.error=!1,e.data=t.payload,e.loading=!1})),Object(h.a)(a,v.rejected,(function(e,t){alert("An error occurred !"),e.loading=!1,e.error=!0})),a)}),g=w.actions,y=(g.increment,g.decrement,g.incrementByAmount,w.reducer),_=n(139),C=n(149),S=n(141),D=n(150),k=n(77),I=n(142),N=n(146),P=n(147),T=n(148),E=n(51),W=n.n(E),A=function(e){var t=e.day,n=e.unit,a=e.index,c=e.handleDaySelection,i=e.selectedIndex,r="http://openweathermap.org/img/wn/".concat(null===t||void 0===t?void 0:t.weather[0].icon,".png");return Object(u.jsx)(_.a.div,{whileHover:{y:-5,transition:{duration:.2}},onClick:function(){return c(a)},children:Object(u.jsx)(I.a,{className:"".concat(i===a&&W.a.selected," ").concat(W.a.card),sx:{backgroundColor:"#1976D2"},children:Object(u.jsxs)(N.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column",height:"100%",width:"100%",color:"white"},children:[Object(u.jsx)(P.a,{color:"text.white",variant:"h6",component:"div",gutterBottom:!0,children:"Temperature"}),Object(u.jsxs)(l.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[Object(u.jsx)(P.a,{color:"text.primary",component:"h6",sx:{minWidth:"max-content",color:"white"},children:"".concat(null===t||void 0===t?void 0:t.main.temp).concat("metric"===n?"C":"F")}),Object(u.jsx)(T.a,{component:"img",image:r,alt:null===t||void 0===t?void 0:t.weather[0].description,width:"64",height:"64",sx:{objectFit:"contain",maxWidth:"min-content"}})]}),Object(u.jsx)(P.a,{color:"text.white",component:"p",sx:{minWidth:"max-content",textTransform:"capitalize"},children:null===t||void 0===t?void 0:t.weather[0].description}),Object(u.jsx)(P.a,{color:"text.white",component:"p",children:null===t||void 0===t?void 0:t.dt_txt.split(" ")[0]})]})})})},B=n(73),F=n.n(B),J=function(e){var t=e.days,n=e.unit,a=e.handleDaySelection,i=e.selectedIndex;Object(c.useEffect)((function(){}),[n,t]);return Object(u.jsx)("div",{className:F.a.container,children:Object(u.jsx)(k.a,{pagination:!1,breakPoints:[{width:1,itemsToShow:1,pagination:!1},{width:450,itemsToShow:3,itemPadding:[0,10]},{width:700,itemsToShow:3,itemPadding:[0,10]}],children:t.map((function(e,t){return Object(u.jsx)(A,{day:e,index:t,unit:n,handleDaySelection:a,selectedIndex:i},e.dt)}))})})},z=n(19),H=n(74),K=n(52),L=n.n(K),M=function(e){var t,n=e.day,a=Object(c.useState)([]),i=Object(o.a)(a,2),r=i[0],s=i[1];Object(c.useEffect)((function(){d()}),[n]);var d=function(){s(n.map((function(e){return[e.dt_txt.split(" ")[1],e.main.temp]})))};return Object(u.jsx)("div",{className:L.a.container,children:Object(u.jsx)(H.a,{width:window.outerWidth>450?"500px":"100%",height:"300px",chartType:"Bar",loader:Object(u.jsx)("div",{className:L.a.loader,children:Object(u.jsx)(j,{})}),data:[["Time","Temp"]].concat(Object(z.a)(r)),options:{chart:{title:"Daily Weather Forcast - ".concat(null===(t=n[0])||void 0===t?void 0:t.dt_txt.split(" ")[0])}},rootProps:{"data-testid":"2"}})})};var R=function(){var e=Object(s.c)((function(e){return e.app.loading})),t=Object(s.c)((function(e){return e.app.error})),n=Object(s.c)((function(e){return e.app.data})),a=Object(c.useState)([]),i=Object(o.a)(a,2),r=i[0],d=i[1],l=Object(c.useState)([]),h=Object(o.a)(l,2),p=h[0],b=h[1],x=Object(c.useState)([]),O=Object(o.a)(x,2),m=O[0],f=O[1],w=Object(c.useState)("metric"),g=Object(o.a)(w,2),y=g[0],k=g[1],I=Object(c.useState)(""),N=Object(o.a)(I,2),P=N[0],T=N[1],E=Object(s.b)(),W=function(){E(v({unit:y}))};Object(c.useEffect)((function(){W()}),[y]),Object(c.useEffect)((function(){P&&f(p[P])}),[p,P]),Object(c.useEffect)((function(){return n.list&&d(B(n.list)),B}),[n]);var A=function(e){k(e.target.value)},B=function(e){var t,n,a=[],c=0;if(e){for(t=0;t<e.length;t++){var i,r,o,s;(null===(i=e[t])||void 0===i||null===(r=i.dt_txt)||void 0===r?void 0:r.split(" ")[0])!==(null===(o=e[t+1])||void 0===o||null===(s=o.dt_txt)||void 0===s?void 0:s.split(" ")[0])&&(n=e.slice(c,t),c=t+1,a.push(n))}return b(a),a.map((function(e){return e[0]}))}};return Object(u.jsx)("div",{className:"App",children:e?Object(u.jsx)("div",{className:"loader","data-testid":"loader",children:Object(u.jsx)(j,{})}):!t&&Object(u.jsxs)(_.a.div,{transition:{ease:"easeOut",duration:2},className:"container",children:[Object(u.jsxs)(_.a.div,{children:[Object(u.jsx)(_.a.h1,{className:"title",initial:{y:-100},animate:{y:0},transition:{ease:"easeInOut",duration:1},children:"Berlin Weather Forecast"}),Object(u.jsxs)(_.a.div,{className:"actions",children:[Object(u.jsx)(C.a,{control:Object(u.jsx)(S.a,{checked:"metric"===y,onChange:A,value:"metric",name:"celcius",inputProps:{"aria-label":"Metric"}}),label:"Celcius"}),Object(u.jsx)(C.a,{control:Object(u.jsx)(S.a,{checked:"imperial"===y,onChange:A,value:"imperial",name:"farenheit",inputProps:{"aria-label":"Imperial"}}),label:"Farenheit"})]}),Object(u.jsx)(_.a.div,{className:"refresh",children:Object(u.jsx)(D.a,{variant:"contained",size:"large",onClick:function(){return W()},children:"Refresh"})})]}),Object(u.jsx)(_.a.div,{children:Object(u.jsx)(J,{days:r,unit:y,handleDaySelection:function(e){T(e),f(p[e])},selectedIndex:P})}),m.length>0&&Object(u.jsx)(_.a.div,{children:Object(u.jsx)(M,{day:m},p)})]})})},q=Object(O.a)({reducer:{app:y},devTools:!1});r.a.render(Object(u.jsx)(s.a,{store:q,children:Object(u.jsx)(R,{})}),document.getElementById("root"))},51:function(e,t,n){e.exports={card:"DayCard_card__37KEJ",selected:"DayCard_selected__2PQ5U"}},52:function(e,t,n){e.exports={loader:"ChartContainer_loader__1LOKr",container:"ChartContainer_container__2kZAP"}},73:function(e,t,n){e.exports={container:"CardsContainer_container__1C2-H"}},92:function(e,t,n){},96:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.d85db31b.chunk.js.map